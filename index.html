<!DOCTYPE html>
<html>
<script src="qrcode.js"> </script>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Scouting Sheet</title>
  <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
  <div id="page1">
    <h1>Robotics Scouting Sheet</h1>
    <hr>
    <form>
      What color combination do you want?
      <table>
        <tr>
          <td><input type="button" value="Black and White" onclick="blackWhite()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Black and Mint" onclick="blackMint()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Black and Red" onclick="blackRed()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Purple and Yellow" onclick="purpleYellow()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Blue and Orange" onclick="blueOrange()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Light Blue and White" onclick="lightBlueWhite()"></td>
        </tr>
        <tr>
          <td><input type="button" value="Blue and Purple" onclick="bluePurple()"></td>
        </tr>
      </table> <br>
      What are your names?
      <table>
        <tr>
          <td>Person 1:</td>
          <td><input required type="text" value="insert" id="name1"></td>
        </tr>
        <tr>
          <td>Person 2:</td>
          <td><input required type="text" value="insert" id="name2"></td>
        </tr>
      </table> <br>
      What is the match number?
      <table>
        <tr>
          <td><input required type="text" value="insert" id="matchNumber"></td>
        </tr>
      </table> <br>
      What team are you scouting?
      <table>
        <tr>
          <td><input required type="text" value="insert" id="teamNumber"></td>
        </tr>
      </table> <br>
      Did they leave the community in autonomous?
      <table>
        <tr>
          <td>Yes</td>
          <td><input type="radio" name="leftBase" id="leftBaseYes"></td>
        </tr>
        <tr>
          <td>No</td>
          <td><input type="radio" name="leftBase" id="leftBaseNo"></td>
        </tr>
      </table> <br>
      How many items did they place in autonomous?
      <table>
        <tr>
          <td>High Cones</td>
          <td><input type="number" min="0" id="autoHCones" value="0"></td>
        </tr>
        <tr>
          <td>Medium Cones</td>
          <td><input type="number" min="0" id="autoMCones" value="0"></td>
        </tr>
        <tr>
          <td>Low Cones</td>
          <td><input type="number" min="0" id="autoLCones" value="0"></td>
        </tr>
        <tr>
          <td>High Cubes</td>
          <td><input type="number" min="0" id="autoHCubes" value="0"></td>
        </tr>
        <tr>
          <td>Medium Cubes</td>
          <td><input type="number" min="0" id="autoMCubes" value="0"></td>
        </tr>
        <tr>
          <td>Low Cubes</td>
          <td><input type="number" min="0" id="autoLCubes" value="0"></td>
        </tr>
      </table> <br>
      Did they drive onto the charging station in autonomous?
      <table>
        <tr>
          <td>Yes, and it was balanced</td>
          <td><input type="radio" name="autoCharge" id="autoChargeBalance"></td>
        </tr>
        <tr>
          <td>Yes, but it didn't balance</td>
          <td><input type="radio" name="autoCharge" id="autoChargeNoBalance"></td>
        </tr>
        <tr>
          <td>No</td>
          <td><input type="radio" name="autoCharge" id="autoChargeNo"></td>
        </tr>
      </table> <br>
      How many items did they place in tele-op? <br>
      <table>
        <tr>
          <td>High Cones</td>
          <td><input type="number" min="0" id="teleopHCones" value="0"></td>
        </tr>
        <tr>
          <td>Medium Cones</td>
          <td><input type="number" min="0" id="teleopMCones" value="0"></td>
        </tr>
        <tr>
          <td>Low Cones</td>
          <td><input type="number" min="0" id="teleopLCones" value="0"></td>
        </tr>
        <tr>
          <td>High Cubes</td>
          <td><input type="number" min="0" id="teleopHCubes" value="0"></td>
        </tr>
        <tr>
          <td>Medium Cubes</td>
          <td><input type="number" min="0" id="teleopMCubes" value="0"></td>
        </tr>
        <tr>
          <td>Low Cubes</td>
          <td><input type="number" min="0" id="teleopLCubes" value="0"></td>
        </tr>
      </table> <br>
      Did they drive onto the charging station in tele-op?
      <table>
        <tr>
          <td>Yes, and it was balanced</td>
          <td><input type="radio" name="teleopCharge" id="teleopChargeBalance"></td>
        </tr>
        <tr>
          <td>Yes, but it didn't balance</td>
          <td><input type="radio" name="teleopCharge" id="teleopChargeNoBalance"></td>
        </tr>
        <tr>
          <td>No</td>
          <td><input type="radio" name="teleopCharge" id="teleopChargeNo"></td>
        </tr>
      </table> <br>
      Other comments:
      <table>
        <td><input class="comment" type="text" value="No comment" id="comments" width="50px"></td>
      </table>
      <input type="button" id="bt" value="Save data" onclick="saveFile()">
    </form>
  </div>
  <div id="page2">
    <div id="qrcode"></div>
    <input type="button" value="Go back" onclick="backstep()">
  </div>
</body>

<script type="text/javascript">
  let backstep = () => {
    location.reload();
  }
  let blackWhite = () => {
    document.getElementById("page1").style.color = "black";
    document.getElementById("page1").style.background = "white";
  }
  let blackMint = () => {
    document.getElementById("page1").style.color = "#1ee6aa";
    document.getElementById("page1").style.background = "#2C2F33";
  }
  let blackRed = () => {
    document.getElementById("page1").style.color = "#e32222";
    document.getElementById("page1").style.background = "#2C2F33";
  }
  let purpleYellow = () => {
    document.getElementById("page1").style.color = "#FFC62F";
    document.getElementById("page1").style.background = "#4F2683";
  }
  let blueOrange = () => {
    document.getElementById("page1").style.color = "#FC4C02";
    document.getElementById("page1").style.background = "#005778";
  }
  let lightBlueWhite = () => {
    document.getElementById("page1").style.color = "#FFFFFF";
    document.getElementById("page1").style.background = "#ADD8E6";
  }
  let bluePurple = () => {
    document.getElementById("page1").style.color = "#ADD8E6";
    document.getElementById("page1").style.background = "#4F2683";
  }
  let saveFile = () => {
    // Get the data from each element on the form.
    const name1 = document.getElementById('name1');
    const name2 = document.getElementById('name2');
    const matchNumber = document.getElementById('matchNumber');
    const teamNumber = document.getElementById('teamNumber');
    var leftBaseYes = document.getElementById('leftBaseYes');
    var leftBaseNo = document.getElementById('leftBaseNo');
    const autoHCones = document.getElementById('autoHCones');
    const autoMCones = document.getElementById('autoMCones');
    const autoLCones = document.getElementById('autoLCones');
    const autoHCubes = document.getElementById('autoHCubes');
    const autoMCubes = document.getElementById('autoMCubes');
    const autoLCubes = document.getElementById('autoLCubes');
    var autoChargeBalance = document.getElementById('autoChargeBalance');
    var autoChargeNoBalance = document.getElementById('autoChargeNoBalance');
    var autoChargeNo = document.getElementById('autoChargeNo');
    const teleopHCones = document.getElementById('teleopHCones');
    const teleopMCones = document.getElementById('teleopMCones');
    const teleopLCones = document.getElementById('teleopLCones');
    const teleopHCubes = document.getElementById('teleopHCubes');
    const teleopMCubes = document.getElementById('teleopMCubes');
    const teleopLCubes = document.getElementById('teleopLCubes');
    var teleopChargeBalance = document.getElementById('teleopChargeBalance');
    var teleopChargeNoBalance = document.getElementById('teleopChargeNoBalance');
    var teleopChargeNo = document.getElementById('teleopChargeNo');
    const comments = document.getElementById('comments');
    // The next 40 lines are converting radio buttons true/false into 1s and 0s
    if (leftBaseYes.checked == true) {
      leftBaseYes = 1;
    }
    else {
      leftBaseYes = 0;
    }
    if (leftBaseNo.checked == true) {
      leftBaseNo = 1;
    }
    else {
      leftBaseNo = 0;
    }
    if (autoChargeBalance.checked == true) {
      autoChargeBalance = 1;
    }
    else {
      autoChargeBalance = 0;
    }
    if (autoChargeNoBalance.checked == true) {
      autoChargeNoBalance = 1;
    }
    else {
      autoChargeNoBalance = 0;
    }
    if (autoChargeNo.checked == true) {
      autoChargeNo = 1;
    }
    else {
      autoChargeNo = 0;
    }
    if (teleopChargeBalance.checked == true) {
      teleopChargeBalance = 1;
    }
    else {
      teleopChargeBalance = 0;
    }
    if (teleopChargeNoBalance.checked == true) {
      teleopChargeNoBalance = 1;
    }
    else {
      teleopChargeNoBalance = 0;
    }
    if (teleopChargeNo.checked == true) {
      teleopChargeNo = 1;
    }
    else {
      teleopChargeNo = 0;
    }
    // This variable stores all the data.
    var data =
      name1.value + '|' + //Name 1
      name2.value + '|' + //Name 2
      matchNumber.value + '|' + //Match Number
      teamNumber.value + '|' + //Team Number
      leftBaseYes + '|' + //Left Base Yes
      leftBaseNo + '|' + //Left Base No
      autoHCones.value + '|' + //Auto High Cone
      autoMCones.value + '|' + //Auto Mid Cone
      autoLCones.value + '|' + //Auto Low Cone
      autoHCubes.value + '|' + //Auto High Cube
      autoMCubes.value + '|' + //Auto Mid Cube
      autoLCubes.value + '|' + //Auto Low Cube
      autoChargeBalance + '|' + //Auto CS Engaged
      autoChargeNoBalance + '|' + //Auto CS Docked
      autoChargeNo + '|' + //Auto CS No
      teleopHCones.value + '|' + //Tele High Cone
      teleopMCones.value + '|' + //Tele Mid Cone
      teleopLCones.value + '|' + //Tele Low Cone
      teleopHCubes.value + '|' + //Tele High Cube
      teleopMCubes.value + '|' + //Tele Mid Cube
      teleopLCubes.value + '|' + //Tele Low Cube
      teleopChargeBalance + '|' + //Tele CS Engaged
      teleopChargeNoBalance + '|' + //Tele CS Docked
      teleopChargeNo + '|' + //Tele CS No
      comments.value; //Comments
    //Convert the text to BLOB.
    // const textToBLOB = new Blob([data], {type: 'text/plain'});
    // const sFileName = 'formData.txt';	   // The file to save the data.
    // let newLink = document.createElement("a");
    // newLink.download = sFileName;
    // if (window.webkitURL != null) {
    //   newLink.href = window.webkitURL.createObjectURL(textToBLOB);
    // }
    // else {
    //   newLink.href = window.URL.createObjectURL(textToBLOB);
    //   newLink.style.display = "none";
    //   document.body.appendChild(newLink);
    // }
    // newLink.click();
    document.getElementById("page1").style.display = "none";
    document.getElementById("page2").style.display = "block";
    new QRCode(document.getElementById("qrcode"), data);
    console.log(data)
  }
</script>

</html>